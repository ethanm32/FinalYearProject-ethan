"use strict";

require("core-js/modules/es.regexp.exec");

require("core-js/modules/es.string.match");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = parse;

var _babel_parser = require("./babel_parser");

/**
 * Copyright (c) 2014-present, Facebook, Inc. All rights reserved.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */

/**
 * parse the test file by selecting proper parser based on the file extension.
 *
 * exception will be throw should the underlying parse failed.
 */
function parse(filePath, serializedData) {
  var strictMode = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;

  if (filePath.match(/\.tsx?$/)) {
    return (0, _babel_parser.parseTs)(filePath, serializedData);
  }

  if (filePath.match(/\.m?jsx?$/)) {
    return (0, _babel_parser.parseJs)(filePath, serializedData);
  } // unexpected file extension, for backward compatibility, will use js parser


  if (strictMode) {
    throw new TypeError("unable to find parser for unrecognized file extension: ".concat(filePath));
  }

  return (0, _babel_parser.parseJs)(filePath, serializedData);
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9wYXJzZXJzL2luZGV4LnRzIl0sIm5hbWVzIjpbInBhcnNlIiwiZmlsZVBhdGgiLCJzZXJpYWxpemVkRGF0YSIsInN0cmljdE1vZGUiLCJtYXRjaCIsIlR5cGVFcnJvciJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFTQTs7QUFUQTs7Ozs7Ozs7QUFXQTs7Ozs7QUFLZSxTQUFTQSxLQUFULENBQWVDLFFBQWYsRUFBaUNDLGNBQWpDLEVBQTJGO0FBQUEsTUFBakNDLFVBQWlDLHVFQUFwQixLQUFvQjs7QUFDeEcsTUFBSUYsUUFBUSxDQUFDRyxLQUFULENBQWUsU0FBZixDQUFKLEVBQStCO0FBQzdCLFdBQU8sMkJBQVFILFFBQVIsRUFBa0JDLGNBQWxCLENBQVA7QUFDRDs7QUFDRCxNQUFJRCxRQUFRLENBQUNHLEtBQVQsQ0FBZSxXQUFmLENBQUosRUFBaUM7QUFDL0IsV0FBTywyQkFBUUgsUUFBUixFQUFrQkMsY0FBbEIsQ0FBUDtBQUNELEdBTnVHLENBUXhHOzs7QUFDQSxNQUFJQyxVQUFKLEVBQWdCO0FBQ2QsVUFBTSxJQUFJRSxTQUFKLGtFQUF3RUosUUFBeEUsRUFBTjtBQUNEOztBQUNELFNBQU8sMkJBQVFBLFFBQVIsRUFBa0JDLGNBQWxCLENBQVA7QUFDRCIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDE0LXByZXNlbnQsIEZhY2Vib29rLCBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICovXG5cbmltcG9ydCB7UGFyc2VSZXN1bHR9IGZyb20gJy4vcGFyc2VyX25vZGVzJztcbmltcG9ydCB7cGFyc2VKcywgcGFyc2VUc30gZnJvbSAnLi9iYWJlbF9wYXJzZXInO1xuXG4vKipcbiAqIHBhcnNlIHRoZSB0ZXN0IGZpbGUgYnkgc2VsZWN0aW5nIHByb3BlciBwYXJzZXIgYmFzZWQgb24gdGhlIGZpbGUgZXh0ZW5zaW9uLlxuICpcbiAqIGV4Y2VwdGlvbiB3aWxsIGJlIHRocm93IHNob3VsZCB0aGUgdW5kZXJseWluZyBwYXJzZSBmYWlsZWQuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHBhcnNlKGZpbGVQYXRoOiBzdHJpbmcsIHNlcmlhbGl6ZWREYXRhPzogc3RyaW5nLCBzdHJpY3RNb2RlID0gZmFsc2UpOiBQYXJzZVJlc3VsdCB7XG4gIGlmIChmaWxlUGF0aC5tYXRjaCgvXFwudHN4PyQvKSkge1xuICAgIHJldHVybiBwYXJzZVRzKGZpbGVQYXRoLCBzZXJpYWxpemVkRGF0YSk7XG4gIH1cbiAgaWYgKGZpbGVQYXRoLm1hdGNoKC9cXC5tP2pzeD8kLykpIHtcbiAgICByZXR1cm4gcGFyc2VKcyhmaWxlUGF0aCwgc2VyaWFsaXplZERhdGEpO1xuICB9XG5cbiAgLy8gdW5leHBlY3RlZCBmaWxlIGV4dGVuc2lvbiwgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHksIHdpbGwgdXNlIGpzIHBhcnNlclxuICBpZiAoc3RyaWN0TW9kZSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYHVuYWJsZSB0byBmaW5kIHBhcnNlciBmb3IgdW5yZWNvZ25pemVkIGZpbGUgZXh0ZW5zaW9uOiAke2ZpbGVQYXRofWApO1xuICB9XG4gIHJldHVybiBwYXJzZUpzKGZpbGVQYXRoLCBzZXJpYWxpemVkRGF0YSk7XG59XG4iXX0=